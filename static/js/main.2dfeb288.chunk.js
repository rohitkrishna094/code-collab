(this["webpackJsonpcode-collab"]=this["webpackJsonpcode-collab"]||[]).push([[0],{173:function(e,n,t){},174:function(e,n,t){},670:function(e,n,t){},675:function(e,n,t){"use strict";t.r(n);var a,o=t(1),c=t.n(o),r=t(44),l=t.n(r),i=(t(173),t(704)),s=t(101),u=t(11),d=(t(174),t(700)),j=t(689),b=t(705),h=t(701),m=t(707),p=t(691),O=t(55),f=t.n(O),g=t(91),x=t(5),v=t(144),C=t.n(v),y=t(706),E=t(692),S=t(145),A=t(103),_=t.n(A),w=t(147),N=(t(200),t(201),'public class Main {\n  public static void main(String[] args) {\n      System.out.println("hello world");\n  }\n}'),R='public void HelloWorld() {\n    //Say Hello!\n    Console.WriteLine("Hello World");\n}',k="def say_hello():\n    print('Hello, World')",I='fun main() {\n    println("Hello, World!")\n}  ',G='(defn hello []\n    (prn "Hello, World")\n  )\n  \n(hello)',U='#include <stdio.h>\n\nint main() {\n  printf("Hello, World\\n");\n  return 0;\n}',z='#include <iostream>\nusing namespace std;\n\nint main() {\n  cout << "Hello World";\n  return 0;\n}',D='-module(solution). \n-export([start/0]). \n\nstart() -> \n   io:fwrite("Hello, world!\\n").',L='console.log("hello world");',H="puts 'Hello World'",M='console.log("Hello World")',W='<?php\n  echo "Hello, World\\n";\n?>',T='package main\n\nimport "fmt"\n\nfunc main() {\n  fmt.Println("Hello, World!")\n}',V={50:{languageId:50,name:"C",mode:"c_cpp",defaultValue:U},54:{languageId:54,name:"C++",mode:"c_cpp",defaultValue:z},86:{languageId:86,name:"Clojure",mode:"clojure",defaultValue:G},51:{languageId:51,name:"C#",mode:"csharp",defaultValue:R},58:{languageId:58,name:"Erlang",mode:"erlang",defaultValue:D},60:{languageId:60,name:"Go",mode:"golang",defaultValue:T},62:{languageId:62,name:"Java",mode:"java",defaultValue:N},63:{languageId:63,name:"Javascript",mode:"javascript",defaultValue:L},78:{languageId:78,name:"Kotlin",mode:"kotlin",defaultValue:I},68:{languageId:68,name:"PHP",mode:"php",defaultValue:W},71:{languageId:71,name:"Python",mode:"python",defaultValue:k},72:{languageId:72,name:"Ruby",mode:"ruby",defaultValue:H},74:{languageId:74,name:"Typescript",mode:"typescript",defaultValue:M}},P=["monokai","github","tomorrow_night","tomorrow","kuroir","twilight","xcode","textmate","solarized_dark","solarized_light","terminal"],J="https://code-collab-api.herokuapp.com",B="".concat(J,"/api"),K="".concat(B,"/judge"),q=function(e){return new Promise((function(n){return setTimeout(n,e)}))},F=t(156),X=(t(616),t(617),t(618),t(619),t(620),t(621),t(622),t(623),t(624),t(625),t(626),t(627),t(628),t(629),t(630),t(631),t(632),t(633),t(634),t(635),t(636),t(637),t(638),t(146)),Y=t.n(X).a.connect(J),$="userjoin",Q="codechange",Z="language_change",ee="code_run",ne="code_run_result",te="userleft";!function(e){e[e.A_LANGUAGE_CHANGE=0]="A_LANGUAGE_CHANGE",e[e.A_MESSAGE=1]="A_MESSAGE",e[e.A_CODE_RUN_RESULT=2]="A_CODE_RUN_RESULT",e[e.A_CODE_RUN=3]="A_CODE_RUN"}(a||(a={}));var ae=t(690),oe=t(4),ce=function(e){var n=e.items;return Object(oe.jsx)(j.a,{color:"white",minWidth:"30%",width:"30%",flex:"1",bg:"#272822",direction:"column",height:"100%",padding:5,children:n.map((function(e){var n=e.type,t=e.payload;if(n===a.A_MESSAGE){var o=t.data;return Object(oe.jsx)(ae.a,{children:o},Math.random())}if(n===a.A_CODE_RUN){var c,r=t.userName,l=t.langId,i=null===(c=V[l])||void 0===c?void 0:c.name;return Object(oe.jsxs)(ae.a,{children:["User"," ",Object(oe.jsx)(ae.a,{as:"span",color:"#3182CE",children:r})," ","ran",Object(oe.jsxs)(ae.a,{as:"span",color:"#38A169",children:[" ",i]})," ","code just now."]},Math.random())}if(n===a.A_CODE_RUN_RESULT){var s=t.result;return Object(oe.jsx)(ae.a,{whiteSpace:"pre",children:s},Math.random())}if(n===a.A_LANGUAGE_CHANGE){var u=t.userName,d=t.language;return Object(oe.jsxs)(ae.a,{children:["User"," ",Object(oe.jsx)(ae.a,{as:"span",color:"#3182CE",children:u})," ","changed language to",Object(oe.jsxs)(ae.a,{as:"span",color:"#38A169",children:[" ",d]})]},Math.random())}return null}))})},re=[{type:a.A_MESSAGE,payload:{data:"Environment is ready, just click run button and enjoy!"}}],le=function(e){var n=e.userName,t=Object(o.useState)("java"),c=Object(x.a)(t,2),r=c[0],l=c[1],i=Object(o.useState)(62),s=Object(x.a)(i,2),u=s[0],d=s[1],h=Object(o.useState)(function(e){var n=V[e];if(n&&n.defaultValue)return n.defaultValue}(u+"")),O=Object(x.a)(h,2),v=O[0],A=O[1],N=Object(o.useState)("monokai"),R=Object(x.a)(N,2),k=R[0],I=R[1],G=Object(o.useState)(!1),U=Object(x.a)(G,2),z=U[0],D=U[1],L=Object(o.useState)(!1),H=Object(x.a)(L,2),M=(H[0],H[1]),W=Object(o.useState)(""),T=Object(x.a)(W,2),J=(T[0],T[1]),B=(Object(o.useRef)(null),Object(o.useReducer)((function(e,n){var t=n.type,o=n.payload,c=Object(S.cloneDeep)(e);if(t===a.A_MESSAGE){var r=o.data;return c.push({type:a.A_MESSAGE,payload:{data:r}}),c}if(t===a.A_CODE_RUN){var l=o.userName;return c.push({type:a.A_CODE_RUN,payload:{userName:l,langId:u}}),c}if(t===a.A_CODE_RUN_RESULT){var i=o.result;return c.push({type:a.A_CODE_RUN_RESULT,payload:{result:i}}),c}if(t===a.A_LANGUAGE_CHANGE){var s=o.userName,d=o.language;return c.push({type:a.A_LANGUAGE_CHANGE,payload:{userName:s,language:d}}),c}return e}),re)),X=Object(x.a)(B,2),$=X[0],te=X[1];Object(o.useEffect)((function(){return Y.on(Q,(function(e){A(e)})),Y.on(ee,(function(e){te(e)})),Y.on(Z,(function(e){var n,t=e.id,o=e.mode,c=e.codeValue,r=e.userName,i=null===(n=V[t])||void 0===n?void 0:n.name;d(t),l(o),A(c),te({type:a.A_LANGUAGE_CHANGE,payload:{userName:r,language:i}})})),Y.on(ne,(function(e){te(e)})),function(){Y.off(Q),Y.off(ee),Y.off(Z)}}),[]);var ae=function(){var e=Object(g.a)(f.a.mark((function e(n,t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),e.next=4,_.a.request({method:"POST",url:"".concat(K,"/submissions"),data:{languageId:n,sourceCode:t}});case 4:return a=e.sent,console.log("compile: ",a),e.abrupt("return",a.data.token);case 9:e.prev=9,e.t0=e.catch(0),console.log("Error while submitting",e.t0),D(!1),J(e.t0),M(!0);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,t){return e.apply(this,arguments)}}(),le=function(){var e=Object(g.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return D(!1),M(!0),e.abrupt("return");case 4:return e.next=6,_.a.request({method:"GET",url:"".concat(K,"/submissions/").concat(n)}).then((function(e){var n=e.data.data,t=n.stderr,o=n.status,c=n.stdout,r=n.compile_output;if(console.log("results",e),o&&[1,2,3].includes(o.id)){console.log("we got stdout",c),D(!1);var l={type:a.A_CODE_RUN_RESULT,payload:{result:c}};te(l),Y.emit(ne,l)}else r?(console.log(r),D(!1),J(t),M(!0)):t?(console.log(t),D(!1),J(t),M(!0)):(console.log("something else happened"),D(!1))})).catch((function(e){console.log(e),D(!1),M(!0)}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(g.a)(f.a.mark((function e(){var t,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:a.A_CODE_RUN,payload:{userName:n,langId:u}},te(t),Y.emit(ee,t),e.next=5,ae(u,v);case 5:return o=e.sent,e.next=8,q(5e3);case 8:return e.next=10,le(o);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(oe.jsxs)(j.a,{height:"100%",width:"100%",className:"container",children:[Object(oe.jsx)(F.a,{defaultSize:{width:"70%",height:"100%"},style:{borderRight:"10px solid #202020"},maxWidth:"70%",minWidth:"30%",enable:{top:!1,right:!0,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},children:Object(oe.jsxs)(j.a,{direction:"column",position:"relative",height:"100%",width:"100%",bg:"cornsilk",className:"code-editor-comp",children:[Object(oe.jsxs)(j.a,{color:"white",padding:2,className:"code-header",bg:"#202020",children:[Object(oe.jsx)(b.a,{colorScheme:"blue",size:"sm",onClick:ie,disabled:z,children:Object(oe.jsxs)(m.a,{children:[Object(oe.jsx)(p.a,{children:"Run"}),z?Object(oe.jsx)(y.a,{size:"sm"}):Object(oe.jsx)(p.a,{children:Object(oe.jsx)(w.a,{fontSize:"10px"})})]})}),Object(oe.jsx)(E.a,{cursor:"pointer",ml:5,size:"sm",width:"7rem",borderRadius:"0.375rem",value:u,onChange:function(e){var t=e.target.value,o=V[t],c=o.mode,r=o.defaultValue;d(+t),l(c),A(r),te({type:a.A_LANGUAGE_CHANGE,payload:{userName:n,language:o.name}}),Y.emit(Z,{id:t,mode:c,codeValue:r,userName:n})},children:Object.keys(V).map((function(e){var n=V[e];return Object(oe.jsx)("option",{value:e,style:{backgroundColor:"#202020"},children:n.name},e)}))}),Object(oe.jsx)(E.a,{cursor:"pointer",ml:5,size:"sm",width:"10rem",borderRadius:"0.375rem",value:k,onChange:function(e){var n=e.target.value;I(n)},children:P.map((function(e){return Object(oe.jsx)("option",{value:e,style:{backgroundColor:"#202020"},children:e},Math.random())}))})]}),Object(oe.jsx)(C.a,{mode:r,theme:k,height:"100%",width:"100%",onChange:function(e){A(e),Y.emit(Q,e)},name:"CODEEDITOR",editorProps:{$blockScrolling:!0},fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,focus:!0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},value:v})]})}),Object(oe.jsx)(ce,{items:$})]})},ie=t(106),se=(t(670),t(149)),ue=function(){return new URLSearchParams(Object(u.g)().search)},de=t(50),je=function(e){var n=Object(u.f)(),t=e.fontSize;return Object(oe.jsx)(j.a,Object(de.a)(Object(de.a)({cursor:"pointer",onClick:function(e){n.push("/")}},e),{},{children:[{value:"Code",color:"#38A169",fs:"2xl"},{value:"Collab",color:"#3182CE",fontSize:"2xl"}].map((function(e){var n=e.value,a=e.color,o=e.fs;return t=t||o,Object(oe.jsx)(ae.a,{as:"span",color:a,fontSize:t,children:n},Math.random())}))}))},be=function(){var e=Object(o.useState)(!1),n=Object(x.a)(e,2),t=n[0],a=n[1],c=Object(o.useRef)(),r=Object(o.useRef)();Object(o.useEffect)((function(){var e=c.current;if(e){e.width=2*window.innerWidth,e.height=2*window.innerHeight,e.style.width="".concat(window.innerWidth,"px"),e.style.height="".concat(window.innerHeight,"px");var n=e.getContext("2d");n&&(n.scale(2,2),n.lineCap="round",n.strokeStyle="#3182CE",n.lineWidth=5,r.current=n)}}),[]);return Object(oe.jsxs)(j.a,{height:"100%",width:"100%",direction:"column",children:[Object(oe.jsxs)(j.a,{bg:"#202020",width:"100%",padding:2,children:[Object(oe.jsx)(b.a,{size:"sm",colorScheme:"green",onClick:function(){var e=c.current;r.current.fillStyle="#272822",r.current.fillRect(0,0,e.width,e.height)},children:"Clear"}),Object(oe.jsx)(b.a,{ml:5,size:"sm",colorScheme:"green",children:"Undo"}),Object(oe.jsx)(b.a,{ml:5,size:"sm",colorScheme:"green",children:"Save"}),Object(oe.jsx)(b.a,{ml:5,size:"sm",colorScheme:"green",children:"Load"})]}),Object(oe.jsx)("canvas",{ref:c,onMouseDown:function(e){var n=e.nativeEvent,t=n.offsetX,o=n.offsetY;r.current.beginPath(),r.current.moveTo(t,o),a(!0)},onMouseUp:function(){r.current.closePath(),a(!1)},onMouseMove:function(e){var n=e.nativeEvent;if(t){var a=n.offsetX,o=n.offsetY;r.current.lineTo(a,o),r.current.stroke()}}})]})},he=function(e){var n=[{value:"Code",icon:Object(oe.jsx)(ie.a,{})},{value:"Draw",icon:Object(oe.jsx)(ie.b,{})}],t=Object(u.h)().roomId,a=ue().get("user"),c=Object(d.a)();Object(o.useEffect)((function(){Y.on($,(function(e){console.log(e,"joined"),c({title:"".concat(e," joined"),status:"success",isClosable:!0})})),Y.on(te,(function(e){console.log(e,"left"),c({title:"".concat(e," left"),status:"error",isClosable:!0})}));var e={room:t,name:a};return Y.emit($,e),function(){Y.off($),Y.off(te)}}),[]);var r=function(){return Object(oe.jsxs)(j.a,{className:"navbar",color:"white",backgroundColor:"#202020",alignItems:"center",padding:2,children:[Object(oe.jsx)(je,{mr:3}),Object(oe.jsx)(se.CopyToClipboard,{text:t,onCopy:function(e,n){console.log("copied",e),c({title:"Copied roomId: ".concat(t),status:"success",isClosable:!0,position:"top"})},children:Object(oe.jsx)(b.a,{colorScheme:"green",size:"sm",children:"Copy RoomId"})})]})};return Object(oe.jsxs)(j.a,{className:"playground",direction:"column",height:"100vh",width:"100vw",children:[Object(oe.jsx)(r,{}),Object(oe.jsx)(j.a,{className:"playground-inner",flex:"1",children:Object(oe.jsxs)(h.e,{variant:"enclosed-colored",bgColor:"#272822",borderBottomColor:"#202020",width:"100%",display:"flex",flexDirection:"column",defaultIndex:0,isLazy:!0,children:[Object(oe.jsx)(h.b,{children:n.map((function(e){return Object(oe.jsx)(h.a,{className:"tab_mine",bg:"#272822",color:"grey",borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:"none",_selected:{color:"white",bg:"#202020",border:"none",borderTop:"3px solid green",borderTopColor:"blue.500"},children:Object(oe.jsxs)(m.a,{children:[Object(oe.jsx)(p.a,{children:e.icon}),Object(oe.jsx)(p.a,{children:e.value})]})},Math.random())}))}),Object(oe.jsxs)(h.d,{flex:"1 1 auto",children:[Object(oe.jsx)(h.c,{padding:0,height:"100%",children:Object(oe.jsx)(le,{userName:a})}),Object(oe.jsx)(h.c,{padding:0,height:"100%",children:Object(oe.jsx)(be,{})})]})]})})]})},me=t(695),pe=t(699),Oe=t(696),fe=t(697),ge=t(92),xe=t.n(ge),ve=t(702),Ce=function(e){var n=Object(u.f)(),t=Object(me.a)(),a=t.isOpen,c=t.onOpen,r=t.onClose,l=Object(o.useState)(""),i=Object(x.a)(l,2),s=i[0],d=i[1],h=Object(o.useState)(!0),m=Object(x.a)(h,2),p=m[0],O=m[1],f=function(){var e=Object(ve.a)();n.push("".concat(e,"?user=").concat(s))};return Object(oe.jsxs)(j.a,Object(de.a)(Object(de.a)({},e),{},{children:[Object(oe.jsx)(b.a,{colorScheme:"blue",onClick:c,children:"Create a Room"}),Object(oe.jsxs)(pe.a,{isOpen:a,onClose:r,isCentered:!0,children:[Object(oe.jsx)(pe.g,{}),Object(oe.jsxs)(pe.d,{children:[Object(oe.jsx)(pe.f,{children:"Create a Room"}),Object(oe.jsx)(pe.c,{}),Object(oe.jsxs)(pe.b,{children:[Object(oe.jsx)(ae.a,{mb:4,fontSize:"md",children:"Enter your Name:"}),Object(oe.jsx)(Oe.a,{autoFocus:!0,value:s,onChange:function(e){var n=e.target.value;d(n),O(!(n&&n.length>0))},placeholder:"Ada Lovelace",onKeyDown:function(e){"Enter"!==e.key||p||f()}})]}),Object(oe.jsx)(pe.e,{children:Object(oe.jsx)(b.a,{colorScheme:"blue",mr:3,onClick:function(e){f()},disabled:p,children:"Create"})})]})]})]}))},ye=function(e){var n=Object(u.f)(),t=Object(me.a)(),a=t.isOpen,c=t.onOpen,r=t.onClose,l=Object(o.useState)(""),i=Object(x.a)(l,2),s=i[0],d=i[1],h=Object(o.useState)(""),m=Object(x.a)(h,2),p=m[0],O=m[1],f=Object(o.useState)(!0),g=Object(x.a)(f,2),v=g[0],C=g[1],y=function(e,n){return(null===e||void 0===e?void 0:e.length)>0&&(null===n||void 0===n?void 0:n.length)>0},E=function(){n.push("".concat(p,"?user=").concat(s))},S=function(e){"Enter"!==e.key||v||E()};return Object(oe.jsxs)(j.a,Object(de.a)(Object(de.a)({},e),{},{children:[Object(oe.jsx)(b.a,{colorScheme:"green",onClick:c,children:"Join a Session"}),Object(oe.jsxs)(pe.a,{isOpen:a,onClose:r,isCentered:!0,children:[Object(oe.jsx)(pe.g,{}),Object(oe.jsxs)(pe.d,{children:[Object(oe.jsx)(pe.f,{children:"Join an already running session"}),Object(oe.jsx)(pe.c,{}),Object(oe.jsxs)(pe.b,{children:[Object(oe.jsx)(ae.a,{mb:4,fontSize:"md",children:"Enter your Name:"}),Object(oe.jsx)(Oe.a,{value:s,onChange:function(e){var n=e.target.value;d(n),C(!y(n,p))},placeholder:"Ada Lovelace",autoFocus:!0,onKeyDown:S}),Object(oe.jsx)(ae.a,{mt:4,mb:4,fontSize:"md",children:"Enter Room ID:"}),Object(oe.jsx)(Oe.a,{value:p,onChange:function(e){var n=e.target.value;O(n),C(!y(s,n))},placeholder:"xxxxxxxx-yyyy-zzzz-aaaa-bbbbbbbbbbbb",onKeyDown:S})]}),Object(oe.jsx)(pe.e,{children:Object(oe.jsx)(b.a,{colorScheme:"blue",mr:3,onClick:function(e){E()},disabled:v,children:"Join"})})]})]})]}))},Ee=function(e){return Object(oe.jsxs)(j.a,{alignItems:"center",justifyContent:"space-evenly",padding:200,bg:"#202020",color:"white",children:[Object(oe.jsxs)(j.a,{direction:"column",width:"50%",alignItems:"center",justifyContent:"center",padding:10,children:[Object(oe.jsx)(fe.a,{fontSize:["32px","48px","48px"],h:["100px","auto"],textAlign:"center",mb:5,children:Object(oe.jsxs)(xe.a,{cursor:{hideWhenDone:!0,hideWhenDoneDelay:1e3},avgTypingDelay:100,children:[Object(oe.jsx)("span",{style:{fontSize:"32px",color:"#38A169"},children:"Collaboration Made Easy!"}),Object(oe.jsx)(xe.a.Delay,{ms:1e3}),Object(oe.jsx)(xe.a.Backspace,{count:24}),Object(oe.jsx)("span",{style:{color:"#38A169"},children:"Code"}),Object(oe.jsx)("span",{style:{color:"#3182CE"},children:"Collab"})]})}),Object(oe.jsx)(j.a,{alignItems:"center",justifyContent:"center",width:"70%",padding:5,mb:5,children:Object(oe.jsx)(ae.a,{textAlign:"center",children:"Create a room or join an existing room. Invite your friends and have fun pair programming using live code editor and live drawing canvas."})}),Object(oe.jsxs)(j.a,{direction:"row",mt:5,mb:5,alignItems:"center",justifyContent:"space-around",children:[Object(oe.jsx)(Ce,{mr:10}),Object(oe.jsx)(ye,{})]})]}),Object(oe.jsx)(j.a,{className:"animation",children:"animation goes here"})]})};var Se=function(){return Object(oe.jsx)(i.a,{children:Object(oe.jsx)(s.a,{children:Object(oe.jsxs)(u.c,{children:[Object(oe.jsx)(u.a,{exact:!0,path:"/",component:Ee}),Object(oe.jsx)(u.a,{exact:!0,path:"/:roomId",component:he})]})})})};l.a.render(Object(oe.jsx)(c.a.StrictMode,{children:Object(oe.jsx)(Se,{})}),document.getElementById("root"))}},[[675,1,2]]]);
//# sourceMappingURL=main.2dfeb288.chunk.js.map
(this["webpackJsonpcode-collab"]=this["webpackJsonpcode-collab"]||[]).push([[0],{180:function(e,n,t){},181:function(e,n,t){},234:function(e,n,t){},264:function(e,n,t){},266:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),c=t(43),r=t.n(c),l=(t(180),t(292)),i=t(99),s=t(14),d=(t(181),t(288)),u=t(277),j=t(289),b=t(295),h=t(280),m=t(67),g=t.n(m),p=t(101),O=t(5),x=t(147),f=t.n(x),v=t(279),y=t(293),C=t(294),w=t(281),S=t(148),k=t(102),I=t.n(k),z=t(150),V='public class Main {\n  public static void main(String[] args) {\n      System.out.println("hello world");\n  }\n}',W='public void HelloWorld() {\n    //Say Hello!\n    Console.WriteLine("Hello World");\n}',H="def say_hello():\n    print('Hello, World')",L='fun main() {\n    println("Hello, World!")\n}  ',N='(defn hello []\n    (prn "Hello, World")\n  )\n  \n(hello)',R='#include <stdio.h>\n\nint main() {\n  printf("Hello, World\\n");\n  return 0;\n}',E='#include <iostream>\nusing namespace std;\n\nint main() {\n  cout << "Hello World";\n  return 0;\n}',_='-module(solution). \n-export([start/0]). \n\nstart() -> \n   io:fwrite("Hello, world!\\n").',P='console.log("hello world");',M="puts 'Hello World'",T='console.log("Hello World")',D='<?php\n  echo "Hello, World\\n";\n?>',J='package main\n\nimport "fmt"\n\nfunc main() {\n  fmt.Println("Hello, World!")\n}',A={50:{languageId:50,name:"C",mode:"c_cpp",defaultValue:R},54:{languageId:54,name:"C++",mode:"c_cpp",defaultValue:E},86:{languageId:86,name:"Clojure",mode:"clojure",defaultValue:N},51:{languageId:51,name:"C#",mode:"csharp",defaultValue:W},58:{languageId:58,name:"Erlang",mode:"erlang",defaultValue:_},60:{languageId:60,name:"Go",mode:"golang",defaultValue:J},62:{languageId:62,name:"Java",mode:"java",defaultValue:V},63:{languageId:63,name:"Javascript",mode:"javascript",defaultValue:P},78:{languageId:78,name:"Kotlin",mode:"kotlin",defaultValue:L},68:{languageId:68,name:"PHP",mode:"php",defaultValue:D},71:{languageId:71,name:"Python",mode:"python",defaultValue:H},72:{languageId:72,name:"Ruby",mode:"ruby",defaultValue:M},74:{languageId:74,name:"Typescript",mode:"typescript",defaultValue:T}},B=["monokai","github","tomorrow_night","tomorrow","kuroir","twilight","xcode","textmate","solarized_dark","solarized_light","terminal"],G="https://code-collab-api.herokuapp.com",q="".concat(G,"/api"),F="".concat(q,"/judge"),U=function(e){return new Promise((function(n){return setTimeout(n,e)}))},K=t(162),$=(t(207),t(208),t(209),t(210),t(211),t(212),t(213),t(214),t(215),t(216),t(217),t(218),t(219),t(220),t(221),t(222),t(223),t(224),t(225),t(226),t(227),t(228),t(229),t(4)),Q=function(e){var n=e.socket,t=e.userName,o=Object(a.useState)("java"),c=Object(O.a)(o,2),r=(c[0],c[1]),l=Object(a.useState)(62),i=Object(O.a)(l,2),s=i[0],d=i[1],j=Object(a.useState)(function(e){var n=A[e];if(n&&n.defaultValue)return n.defaultValue}(s+"")),m=Object(O.a)(j,2),x=m[0],k=m[1],V=Object(a.useState)("monokai"),W=Object(O.a)(V,2),H=W[0],L=W[1],N=Object(a.useState)(!1),R=Object(O.a)(N,2),E=R[0],_=R[1],P=Object(a.useState)(!1),M=Object(O.a)(P,2),T=(M[0],M[1]),D=Object(a.useState)(""),J=Object(O.a)(D,2),G=(J[0],J[1]),q=Object(a.useState)([{type:"message",payload:{data:"Environment is ready, just click run button and enjoy!"}}]),Q=Object(O.a)(q,2),X=Q[0],Y=Q[1];Object(a.useRef)(null);n.on("codechange",(function(e){k(e)})),n.on("language_change",(function(e){var n=e.id,t=e.mode,a=e.codeValue;d(n),r(t),k(a)}));var Z=function(){var e=Object(p.a)(g.a.mark((function e(n,t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.request({method:"POST",url:"".concat(F,"/submissions"),data:{languageId:n,sourceCode:t}});case 2:return a=e.sent,console.log("compile: ",a),e.abrupt("return",a.data.token);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(p.a)(g.a.mark((function e(){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A[s].name,(n=Object(S.cloneDeep)(X)).push({type:"coderun",payload:{userName:t,langId:s}}),Y(n),_(!0),e.prev=5,e.next=8,Z(s,x);case 8:a=e.sent,e.next=18;break;case 11:return e.prev=11,e.t0=e.catch(5),console.log(e.t0),_(!1),G(e.t0),T(!0),e.abrupt("return");case 18:return e.next=20,U(5e3);case 20:return e.next=22,I.a.request({method:"GET",url:"".concat(F,"/submissions/").concat(a)}).then((function(e){var t=e.data.data,a=t.stderr,o=t.status,c=t.stdout,r=t.compile_output;console.log("results",e),o&&[1,2,3].includes(o.id)?(console.log(c),_(!1),n.push({type:"coderunresult",payload:{result:c}}),Y(n),console.log(n)):r?(console.log(r),_(!1),G(a),T(!0)):a?(console.log(a),_(!1),G(a),T(!0)):(console.log("something else happened"),_(!1))})).catch((function(e){console.log(e),_(!1),T(!0)}));case 22:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){return Object($.jsx)(u.a,{color:"white",minWidth:"30%",width:"30%",flex:"1",bg:"#272822",padding:5,direction:"column",children:X.map((function(e){3===e.length&&console.log("object",e);var n=e.type,t=e.payload;if("message"===n){var a=t.data;return Object($.jsx)(v.a,{children:a},Math.random())}if("coderun"===n){var o,c=t.userName,r=t.langId,l=null===(o=A[r])||void 0===o?void 0:o.name;return Object($.jsxs)(v.a,{children:["User"," ",Object($.jsx)(v.a,{as:"span",color:"#3182CE",children:c})," ","ran",Object($.jsxs)(v.a,{as:"span",color:"#38A169",children:[" ",l]})," ","code just now."]},Math.random())}if("coderunresult"===n){var i=t.result;return Object($.jsx)(v.a,{children:i},Math.random())}return null}))})};return Object($.jsxs)(u.a,{height:"100%",width:"100%",className:"container",children:[Object($.jsx)(K.a,{defaultSize:{width:"70%",height:"100%"},style:{borderRight:"10px solid #202020"},maxWidth:"70%",minWidth:"30%",enable:{top:!1,right:!0,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},children:Object($.jsxs)(u.a,{direction:"column",position:"relative",height:"100%",width:"100%",bg:"cornsilk",className:"code-editor-comp",children:[Object($.jsxs)(u.a,{color:"white",padding:"10px",className:"code-header",bg:"#202020",children:[Object($.jsx)(y.a,{colorScheme:"blue",size:"sm",onClick:ee,disabled:E,children:Object($.jsxs)(b.a,{children:[Object($.jsx)(h.a,{children:"Run"}),E?Object($.jsx)(C.a,{size:"sm"}):Object($.jsx)(h.a,{children:Object($.jsx)(z.a,{fontSize:"10px"})})]})}),Object($.jsx)(w.a,{cursor:"pointer",ml:5,size:"sm",width:"7rem",borderRadius:"0.375rem",value:s,onChange:function(e){var a=e.target.value,o=A[a],c=o.mode,l=o.defaultValue;d(+a),r(c),k(l),n.emit("language_change",{id:a,mode:c,codeValue:l,userName:t})},children:Object.keys(A).map((function(e){var n=A[e];return Object($.jsx)("option",{value:e,style:{backgroundColor:"#202020"},children:n.name},e)}))}),Object($.jsx)(w.a,{cursor:"pointer",ml:5,size:"sm",width:"10rem",borderRadius:"0.375rem",value:H,onChange:function(e){var n=e.target.value;L(n)},children:B.map((function(e){return Object($.jsx)("option",{value:e,style:{backgroundColor:"#202020"},children:e},Math.random())}))})]}),Object($.jsx)(f.a,{mode:"java",theme:"monokai",height:"100%",width:"100%",onChange:function(e){k(e),n.emit("codechange",e)},name:"CODEEDITOR",editorProps:{$blockScrolling:!0},fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,focus:!0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},value:x})]})}),Object($.jsx)(ne,{})]})},X=t(163),Y=(t(234),function(e){return e.socket.on("codechange",(function(e){})),Object($.jsx)(u.a,{height:"100%",width:"100%",children:Object($.jsx)(X.a,{canvasWidth:"100%",canvasHeight:"100%",brushRadius:3,brushColor:"#3182CE",catenaryColor:"#FFD500",gridColor:"rgba(0, 180, 216, 0.1)",backgroundColor:"#272822"})})}),Z=t(155),ee=t.n(Z),ne=t(105),te=(t(264),function(){return new URLSearchParams(Object(s.g)().search)}),ae=function(){var e=[{value:"Code",icon:Object($.jsx)(ne.a,{})},{value:"Draw",icon:Object($.jsx)(ne.b,{})}],n=Object(s.h)().roomId,t=te().get("user"),o=Object(d.a)(),c=ee.a.connect(G);return c.on("userjoined",(function(e){console.log(e,"joined"),o({title:"".concat(e," joined"),status:"success",isClosable:!0})})),c.on("userleft",(function(e){console.log(e,"left"),o({title:"".concat(e," left"),status:"error",isClosable:!0})})),Object(a.useEffect)((function(){var e={room:n,name:t};c.emit("joinroom",e)}),[]),Object($.jsx)(u.a,{className:"playground",height:"100vh",width:"100vw",children:Object($.jsxs)(j.e,{variant:"enclosed-colored",bgColor:"#272822",borderBottomColor:"#202020",width:"100%",display:"flex",flexDirection:"column",defaultIndex:0,isLazy:!0,children:[Object($.jsx)(j.b,{children:e.map((function(e){return Object($.jsx)(j.a,{className:"tab_mine",bg:"#272822",color:"grey",borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:"none",_selected:{color:"white",bg:"#202020",border:"none",borderTop:"3px solid green",borderTopColor:"blue.500"},children:Object($.jsxs)(b.a,{children:[Object($.jsx)(h.a,{children:e.icon}),Object($.jsx)(h.a,{children:e.value})]})},Math.random())}))}),Object($.jsxs)(j.d,{flex:"1 1 auto",children:[Object($.jsx)(j.c,{padding:0,height:"100%",children:Object($.jsx)(Q,{socket:c,userName:t})}),Object($.jsx)(j.c,{padding:0,height:"100%",children:Object($.jsx)(Y,{socket:c})})]})]})})},oe=t(284),ce=t(287),re=t(285),le=t(290),ie=function(){var e=Object(s.f)(),n=Object(oe.a)(),t=n.isOpen,o=n.onOpen,c=n.onClose,r=Object(a.useState)(""),l=Object(O.a)(r,2),i=l[0],d=l[1],j=Object(a.useState)(""),b=Object(O.a)(j,2),h=b[0],m=b[1],g=Object(a.useState)(!0),p=Object(O.a)(g,2),x=p[0],f=p[1],C=function(e){var n=e.target.value;d(n),n&&n.length>0?f(!1):f(!0)},w=function(n){var t=Object(le.a)();e.push("".concat(t,"?user=").concat(i))};return Object($.jsxs)(u.a,{height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",bg:"#272822",direction:"column",children:[Object($.jsx)(y.a,{colorScheme:"blue",onClick:o,children:"Launch Session"}),Object($.jsxs)(ce.a,{isOpen:t,onClose:c,isCentered:!0,children:[Object($.jsx)(ce.g,{}),Object($.jsxs)(ce.d,{children:[Object($.jsx)(ce.f,{children:"Launch a Collaborative Session"}),Object($.jsx)(ce.c,{}),Object($.jsxs)(ce.b,{children:[Object($.jsx)(v.a,{mb:4,fontSize:"md",children:"Enter your Name:"}),Object($.jsx)(re.a,{value:i,onChange:C,placeholder:"Ada Lovelace"})]}),Object($.jsx)(ce.e,{children:Object($.jsx)(y.a,{colorScheme:"blue",mr:3,onClick:w,disabled:x,children:"Launch"})})]})]}),Object($.jsx)(y.a,{colorScheme:"green",onClick:o,mt:6,children:"Join a Session"}),Object($.jsxs)(ce.a,{isOpen:t,onClose:c,isCentered:!0,children:[Object($.jsx)(ce.g,{}),Object($.jsxs)(ce.d,{children:[Object($.jsx)(ce.f,{children:"Join an already running session"}),Object($.jsx)(ce.c,{}),Object($.jsxs)(ce.b,{children:[Object($.jsx)(v.a,{mb:4,fontSize:"md",children:"Enter your Name:"}),Object($.jsx)(re.a,{value:i,onChange:C,placeholder:"Ada Lovelace"}),Object($.jsx)(v.a,{mt:4,mb:4,fontSize:"md",children:"Enter Room ID:"}),Object($.jsx)(re.a,{value:h,onChange:function(e){m(e.target.value)},placeholder:"xxxxxxxx-yyyy-zzzz-aaaa-bbbbbbbbbbbb"})]}),Object($.jsx)(ce.e,{children:Object($.jsx)(y.a,{colorScheme:"blue",mr:3,onClick:w,disabled:x,children:"Join"})})]})]})]})};var se=function(){return Object($.jsx)(l.a,{children:Object($.jsx)(i.a,{children:Object($.jsxs)(s.c,{children:[Object($.jsx)(s.a,{exact:!0,path:"/",component:ie}),Object($.jsx)(s.a,{exact:!0,path:"/:roomId",component:ae})]})})})};r.a.render(Object($.jsx)(o.a.StrictMode,{children:Object($.jsx)(se,{})}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.bdb7a2ac.chunk.js.map